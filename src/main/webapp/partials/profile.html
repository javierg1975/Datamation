<header>
    <div class="row">
        <div class="large-12 columns ">
            <img class="logo" src="images/K_small.png">
            <nav>
                <a href="#/search"> Search </a> /
                <a href="#/profile" class="selected"> Profile </a> /
                <a ng-show="user.isAdmin" href="#/admin"> Admin </a> /
                <a href="#/logout"> Logout</a>
            </nav>
            <hr/>
        </div>
    </div>
</header>
<section>
    <div id="spinner" style="display: none;margin-top: 10px"></div>
    <div class="row" ng-show="errorInSearchMsg">
        <div class="large-12 columns">
            <p class="search-error">{{errorInSearchMsg}}</p>
        </div>
    </div>
    <div ng-show="searchReady">
        <div class="row" ng-repeat="faculty in facultyList">
            <div class="large-12 columns boxContainer">
                <div class="large-2 columns">
                    <div class="panel roleBox roleFont" id="roleBox_{{faculty.kbsTeacherId}}">
                        {{faculty.role}}
                    </div>
                </div>
                <div class="large-10 columns">
                    <div class="row" style="margin: 0">
                        <div class="large-12 columns panel detailBox">
                            <div class="large-4 columns">
                                <div class="boxLeft">
                                    <p class="nameFont" ng-click="openFaculty(faculty.kbsTeacherId, faculty.marketsIds)">
                                        {{faculty.firstName}}
                                        {{faculty.lastName}}
                                    </p>
                                </div>
                            </div>
                            <div class="large-4 columns">
                                <div class="boxMid infoFont">
                                    <p>
                                        Phone:
                                        <!-- Desktop Only : Skype-->
                                        <a ng-show="!isMobile" ng-href="callto://{{faculty.phone1 | callToFormat}}">{{faculty.phone1}}</a>
                                        <!-- Mobile Only-->
                                        <a ng-show="isMobile" ng-href="tel://{{faculty.phone1 | callToFormat}}">{{faculty.phone1}}</a>
                                    </p>
                                    <hr />
                                    <p>
                                        Email:
                                        <!--Only works with FF toDo: test-->
                                        <a ng-click="mailTo(faculty.email1)">{{faculty.email1}}</a>
                                    </p>
                                </div>
                            </div>
                            <div class="large-4 columns">
                                <div class="boxRight infoFont">
                                    <p>
                                        Address:
                                        {{faculty.primaryAddress.city}},
                                        {{faculty.primaryAddress.stateProvince}}
                                        {{faculty.primaryAddress.postalCode}}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row addEditRole" id="{{faculty.kbsTeacherId}}" ng-show="open">
                        <div class="large-12 columns panel detailBox">
                            <div class="large-5 columns">
                                <label class="roleLabel">Role:</label>
                                <select id="select_{{faculty.kbsTeacherId}}" class="roleSelect">
                                    <option value="{{roles.role}}" ng-repeat="roles in roleList">{{roles.role}}</option>
                                </select>
                            </div>
                            <div class="large-5 columns">
                                <label class="roleLabel">Market:</label>
                                <div class='marketpicker mp_{{faculty.kbsTeacherId}}' ng-click="loadFacultyMarkets(faculty.kbsTeacherId, faculty.marketsIds)" ui-jq="accordion" style="margin-top: 10px; width: 60%"><!-- ui-jq: AngularUI 'jQuery Passthrough'. see: modules/marketTree.js-->
                                    <h3 class='marketpickerTitle'><a href="#">Markets</a></h3>
                                    <div class="centertree ct_{{faculty.kbsTeacherId}}">
                                        <div class="treeMsg">Loading markets ...</div>
                                    </div>
                                </div>
                            </div>
                            <div class="large-2 columns">
                                <button class='submit-btn' type="button" ng-click="saveFaculty(faculty.kbsTeacherId)" style="margin-top: 10px">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

